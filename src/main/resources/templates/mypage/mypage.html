<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
  <meta charset="utf-8">
  <title>마이페이지</title>
  <style>
    .order-summary {
      background-color: #f5f5f5;
      padding: 20px;
      border-radius: 10px;
      display: flex;
      justify-content: space-between;
    }
    .order-summary div {
      text-align: center;
    }
    .order-summary div p {
      margin: 0;
      font-weight: bold;
    }
    .order-summary div span {
      color: gray;
      font-size: 14px;
    }
  </style>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // 콘텐츠 변경 스크립트
      const contentArea = document.getElementById('content-area');

      const userId = document.getElementById('user-id').getAttribute('data-user-id');

      // document.getElementById('menu-personal-info').addEventListener('click', () => {
      //   contentArea.innerHTML = `
      //     <h2>개인 정보</h2>
      //     <p>이름: 홍길동</p>
      //     <p>이메일: example@example.com</p>
      //     <button class="btn btn-primary">정보 수정</button>
      //   `;
      // });
      //
      // document.getElementById('menu-orders').addEventListener('click', () => {
      //   contentArea.innerHTML = `
      //     <h2>주문/결제 내역</h2>
      //     <ul class="list-group">
      //       <li class="list-group-item">2025-01-01: 주문 번호 #12345</li>
      //       <li class="list-group-item">2025-01-02: 주문 번호 #12346</li>
      //     </ul>
      //   `;
      // });
      //
      // document.getElementById('menu-points').addEventListener('click', () => {
      //   contentArea.innerHTML = `
      //     <h2>포인트 내역</h2>
      //     <p>현재 보유 포인트: 1,500P</p>
      //     <ul class="list-group">
      //       <li class="list-group-item">2025-01-01: +500P (리뷰 작성)</li>
      //       <li class="list-group-item">2025-01-02: -200P (상품 구매)</li>
      //     </ul>
      //   `;
      // });

        // document.getElementById('menu-reviews').addEventListener('click', () => {
        //     document.getElementById('content-frame').src = './review/review-list.html';
        // });
        // document.getElementById('menu-reviews').addEventListener('click', () => {
        //     fetch('./reviews.html')
        //         .then(response => response.text())
        //         .then(data => {
        //             contentArea.innerHTML = data;
        //         })
        //         .catch(error => console.error('Error loading the reviews page:', error));
        // });


      document.getElementById('menu-settings').addEventListener('click', () => {
        contentArea.innerHTML = `
           <div class="border-bottom border-dark">
            <span class="fs-4 fw-bold text-dark">회원탈퇴</span>
           </div>
           <p class="mt-4">회원탈퇴를 진행하시겠습니까? 탈퇴 시 모든 정보가 삭제됩니다.</p>
           <div class="d-flex justify-content-center">
            <form method="POST" action="/mypage/delete/${userId}" onsubmit="return confirm('정말로 탈퇴하시겠습니까?');">
                <button type="submit" class="btn btn-danger">회원탈퇴</button>
            </form>
           </div>
        `;
      });
    });
  </script>
</head>

<body data-bs-spy="scroll" data-bs-target="#header" tabindex="0">


<div layout:fragment="content">

  <section id="popular-books" class="bookshelf my-5">
    <div class="container">
      <div class="row">
<!--        <div class="col-md-12">-->

          <div class="section-header align-center">
            <div class="title">
              <span>마이페이지</span>
            </div>
            <h2 class="section-title">MY PAGE</h2>
          </div>

          <!-- 좌측 사이드바 -->
          <div class="col-md-2 p-4 side-nav-bar">
              <div class="section-box mb-4 card w-80">
                <div class="card-body rounded text-center" style="background-color: #F3F2EC">
                  <img src="https://via.placeholder.com/80" alt="User Profile" class="rounded-circle my-2"><br>
                  <span id="user-id" hidden="hidden" th:attr="data-user-id=${user.id}"></span>
                  <span id="user-name" class="fw-bold fs-5" th:text="${user.getName()}">이름</span><span>님</span>
                  <span class="badge bg-success" th:text="${user.getRankName()}">등급</span>
                  <div class="d-flex justify-content-center mt-3">
                    <div class="me-3">
                      <span>찜</span><br>
                      <strong>0</strong>
                    </div>
                    <div>
                      <span>리스트</span><br>
                      <strong>0</strong>
                    </div>
                  </div>
                </div>
              </div>

              <span class="px-3">마이 쇼핑</span>
              <ul class="nav flex-column px-3 pb-3">
                <li class="nav-item">
                  <a class="nav-link py-0" href="#" id="menu-orders"><span>주문/배송 조회</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="#" id="menu-modifications"><span>취소/반품/교환</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="/books/likes" id="menu-likes"><span>좋아요</span></a>
                </li>
              </ul>
              <span class="px-3">마이 활동</span>
              <ul class="nav flex-column px-3 pb-3">
                <li class="nav-item">
                  <a class="nav-link py-0" href="#" id="menu-questions"><span>1:1문의내역</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="#" id="menu-reviews"><span>리뷰</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="/mypage/points" id="menu-points"><span>포인트 내역</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="/coupon/list" id="menu-coupons"><span>쿠폰</span></a>
                </li>
              </ul>
              <span class="px-3">마이 정보</span>
              <ul class="nav flex-column px-3 pb-3">
                <li class="nav-item">
                  <a class="nav-link py-0" href="#" id="menu-personal-info"><span>회원정보 수정</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="/mypage/addresses" id="menu-address"><span>배송지 관리</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="#" id="menu-my-rank"><span>나의 회원등급</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link py-0" href="#" id="menu-settings"><span>회원탈퇴</span></a>
                </li>
              </ul>

          </div>

          <!-- 메인 콘텐츠 -->
          <div class="col-md-10 my-4 p-4" id="content-area">
            <div>
              <span class="fs-5 mb-4 text-dark">주문/배송 조회<em>(최근 1개월)</em></span>
              <div class="order-summary d-flex justify-content-between">
                <div class="order-item">
                  <p>0</p>
                  <span>주문접수</span>
                </div>
                <div class="order-item">
                  <p>0</p>
                  <span>결제완료</span>
                </div>
                <div class="order-item">
                  <p>0</p>
                  <span>배송준비중</span>
                </div>
                <div class="order-item">
                  <p>0</p>
                  <span>배송중</span>
                </div>
                <div class="order-item">
                  <p>0</p>
                  <span>배송완료</span>
                </div>
              </div>
            </div>
          </div>

<!--          <div class="col-md-9 col-lg-10 px-4">-->

<!--            <h3>프로필 설정</h3>-->
<!--            <hr>-->
<!--            <form>-->
<!--              <div class="mb-3">-->
<!--                <label for="nickname" class="form-label">기본 *</label>-->
<!--                <input type="text" class="form-control" id="nickname" placeholder="2~10자의 닉네임을 입력해주세요.">-->
<!--              </div>-->
<!--              <div class="mb-3">-->
<!--                <label for="profileImage" class="form-label">프로필 이미지 *</label>-->
<!--                <div class="d-flex align-items-center">-->
<!--                  <img src="https://via.placeholder.com/80" alt="Profile Preview" class="me-3">-->
<!--                  <div>-->
<!--                    <button type="button" class="btn btn-outline-primary btn-sm">이미지 변경</button>-->
<!--                    <button type="button" class="btn btn-outline-danger btn-sm">삭제</button>-->
<!--                  </div>-->
<!--                </div>-->
<!--              </div>-->
<!--              <button type="submit" class="save-btn">저장</button>-->
<!--            </form>-->

<!--          </div>-->


        </div>
      </div>
<!--    </div>-->
  </section>


</div>
</body>

</html>