<!DOCTYPE html>
<html lang="en"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
    <title>CouponRequester</title>
</head>

<body data-bs-spy="scroll" data-bs-target="#header" tabindex="0">

<div layout:fragment="content">
    <!-- 쿠폰 정책 생성 섹션 -->
    <section id="coupon-policy-create" class="section">
        <h2 class="section-title text-center">쿠폰 정책 생성</h2>
        <form th:action="@{/admin/policy/create}" method="POST">

            <div class="form-group">
                <label for="policyName">정책명</label>
                <input type="text" class="form-control" id="policyName" name="policyName" required>
            </div>

            <div class="form-group">
                <label for="saleType">할인 유형</label>
                <select class="form-control" id="saleType" name="saleType" required>
                    <option value="PERCENT">퍼센트 할인</option>
                    <option value="AMOUNT">금액 할인</option>
                </select>
            </div>

<!--            addPolicyDTO 부분-->
            <div class="form-group">
                <label for="categoryId">카테고리 ID</label>
                <input type="text" class="form-control" id="categoryId" name="addPolicyDTO.categoryId" placeholder="(예: 1,2,3)">
            </div>

            <div class="form-group">
                <label for="bookId">책 ID</label>
                <input type="text" class="form-control" id="bookId" name="addPolicyDTO.bookId" placeholder="(예: 101,102)">
            </div>

            <div class="form-group">
                <label for="needCost">필요 금액</label>
                <input type="number" class="form-control" id="needCost" name="discountRuleDTO.needCost" required placeholder="예: 10000">
            </div>

            <div class="form-group">
                <label for="maxSale">최대 할인 금액</label>
                <input type="number" class="form-control" id="maxSale" name="discountRuleDTO.maxSale" placeholder="예: 5000">
            </div>

            <div class="form-group">
                <label for="salePercent">할인율 (%)</label>
                <input type="number" class="form-control" id="salePercent" name="discountRuleDTO.salePercent" placeholder="예: 10">
            </div>

            <div class="form-group">
                <label for="saleAmount">할인 금액</label>
                <input type="number" class="form-control" id="saleAmount" name="discountRuleDTO.saleAmount" placeholder="예: 2000">
            </div>

            <button type="submit" class="btn btn-primary btn-block">정책 생성</button>
        </form>
    </section>

    <hr class="my-5">

    <!-- 사용자 쿠폰 생성 섹션 -->
    <section id="user-coupon-create" class="section">
        <h2 class="section-title text-center">사용자 쿠폰 생성</h2>
        <form th:action="@{/admin/coupon/distribution}" method="POST">
            <div class="form-group">
                <label for="userIds">유저 ID</label>
                <input type="text" class="form-control" id="userIds" name="userIds" required>
                <small id="userIdHelp" class="form-text text-muted">여러 유저 ID를 콤마로 구분하여 입력하세요.</small>
            </div>

            <div class="form-group">
                <label for="couponPolicyId">쿠폰 정책 ID</label>
                <input type="number" class="form-control" id="couponPolicyId" name="couponPolicyId" required>
            </div>

            <div class="form-group">
                <label for="state">쿠폰 상태</label>
                <select class="form-control" id="state" name="state">
                    <option value="LIVE">사용가능</option>
                    <option value="USED">사용됨</option>
                    <option value="TIMEOUT">기간초과</option>
                </select>
            </div>

            <div class="form-group">
                <label for="startDate">시작일</label>
                <input type="date" class="form-control" id="startDate" name="startDate">
            </div>

            <div class="form-group">
                <label for="endDate">종료일</label>
                <input type="date" class="form-control" id="endDate" name="endDate">
            </div>

            <button type="submit" class="btn btn-primary btn-block">쿠폰 배포</button>
        </form>
    </section>

    <hr class="my-5">

    <!-- 사용자 쿠폰 수정 섹션 -->
    <section id="user-coupon-update" class="section">
        <h2 class="section-title text-center">사용자 쿠폰 수정</h2>
        <form th:action="@{/admin/coupon/update}" method="POST">
            <!-- 유저 IDs (여러 개 선택 가능) -->
            <div class="form-group">
                <label for="updateUserIds">유저쿠폰 ID들:</label>
                <input
                        type="text"
                        id="updateUserIds"
                        name="updateUserIds"
                        placeholder="유저쿠폰 ID를 콤마로 구분하세요 (예: 1,2,3)"
                        required>
            </div>

            <!-- 새 쿠폰 정책 -->
            <div class="form-group">
                <label for="updatePolicyId">새 쿠폰정책 ID:</label>
                <input
                        type="number"
                        class="form-control"
                        id="updatePolicyId"
                        name="updatePolicyId"
                        placeholder="새 정책 ID를 입력하세요">
            </div>

            <!-- 새 상태 -->
            <div class="form-group">
                <label for="updateState">새 상태:</label>
                <select
                        id="updateState"
                        name="updateState"
                        required>
                    <option value="LIVE">활성</option>
                    <option value="TIMEOUT">만료</option>
                    <option value="USED">사용됨</option>
                </select>
            </div>

            <!-- 새 종료일 -->
            <div class="form-group">
                <label for="updateEndDate">새 종료일:</label>
                <input
                        type="date"
                        class="form-control"
                        id="updateEndDate"
                        name="updateEndDate">
            </div>

            <button type="submit" class="btn btn-primary btn-block">쿠폰 수정</button>
        </form>
    </section>
</div>
</body>
</html>