<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<head>
    <meta charset="utf-8">
    <title>CouponList</title>
    <style>
        .coupon-name {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .coupon-info {
            margin-bottom: 20px;
        }
        .divider {
            margin: 20px 0;
            border-top: 1px solid #ccc;
        }
    </style>
</head>

<body data-bs-spy="scroll" data-bs-target="#header" tabindex="0">

<div layout:fragment="content">

    <div th:if="${not #lists.isEmpty(userCouponList)}">
        <div th:each="coupon : ${userCouponList}">
            <!-- 쿠폰명 강조 -->
            <div class="coupon-name" th:text="'쿠폰명: ' + ${coupon.couponName}">쿠폰명</div>

            <!-- 쿠폰 정보 -->
            <div class="coupon-info">
                <span th:if="${coupon.needCost != null}"
                      th:text="'필요 비용: ' + ${coupon.needCost}"></span>
                <span th:if="${coupon.maxSale != null}"
                      th:text="', 최대 할인: ' + ${coupon.maxSale}"></span>
                <span th:if="${coupon.salePercent != null}"
                      th:text="', 할인율: ' + ${coupon.salePercent} + '%'"></span>
            </div>

            <!-- 사용 가능한 범위 -->
            <div class="coupon-info">
                <span th:if="${coupon.bookIdList != null and not #lists.isEmpty(coupon.bookIdList)}"
                      th:text="'책 ID: ' + ${#strings.join(coupon.bookIdList, ', ')}"></span>
                <span th:if="${coupon.categoryIdList != null and not #lists.isEmpty(coupon.categoryIdList)}"
                      th:text="', 카테고리: ' + ${#strings.join(coupon.categoryIdList, ', ')}"></span>
            </div>

            <div class="divider"></div>
        </div>
    </div>

    <div th:if="${#lists.isEmpty(userCouponList)}">
        <p>사용 가능한 쿠폰이 없습니다.</p>
    </div>

</div>

</body>
</html>